{"ast":null,"code":"// import QRCode from 'qrcode'\n\nexport default {\n  name: 'Agent',\n  data: () => ({\n    shareDialog: false,\n    qrDialog: false,\n    agent: {\n      name: 'Adrian Tan',\n      title: 'Executive Director',\n      contacts: [{\n        icon: 'mdi-phone',\n        value: '+65 1234 5678',\n        label: 'Phone',\n        color: 'primary'\n      }, {\n        icon: 'mdi-whatsapp',\n        value: '+65 8765 4321',\n        label: 'WhatsApp',\n        color: '#25D366'\n      }, {\n        icon: 'mdi-email',\n        value: 'adrian@andycasket.com',\n        label: 'Email',\n        color: 'error'\n      }, {\n        icon: 'mdi-map-marker',\n        value: 'Singapore',\n        label: 'Location',\n        color: 'accent'\n      }]\n    },\n    socialLinks: [{\n      icon: 'mdi-facebook',\n      color: '#1877F2',\n      link: 'https://facebook.com'\n    }, {\n      icon: 'mdi-instagram',\n      color: '#E4405F',\n      link: 'https://instagram.com'\n    }, {\n      icon: 'mdi-whatsapp',\n      color: '#25D366',\n      link: 'https://whatsapp.com'\n    }, {\n      icon: 'mdi-telegram',\n      color: '#0088cc',\n      link: 'https://telegram.org'\n    }]\n  }),\n  methods: {\n    generateVCard() {\n      return `BEGIN:VCARD\nVERSION:3.0\nFN:${this.agent.name}\nTITLE:${this.agent.title}\nTEL;TYPE=WORK,VOICE:${this.agent.phone}\nTEL;TYPE=WORK,WHATSAPP:${this.agent.whatsapp}\nEMAIL;TYPE=WORK:${this.agent.email}\nADR;TYPE=WORK:;;${this.agent.address}\nORG:Andy Casket Service\nURL:${window.location.origin}/agent\nEND:VCARD`;\n    },\n    async downloadVCard() {\n      const vcard = this.generateVCard();\n      const blob = new Blob([vcard], {\n        type: 'text/vcard'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `${this.agent.name}.vcf`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    },\n    shareOnWhatsApp() {\n      const text = `Contact Card - ${this.agent.name}\\n${window.location.href}`;\n      window.open(`https://wa.me/?text=${encodeURIComponent(text)}`);\n    },\n    shareCard() {\n      this.shareDialog = true;\n    },\n    async copyLink() {\n      try {\n        await navigator.clipboard.writeText(window.location.href);\n        this.$emit('show-message', 'Link copied to clipboard!');\n        this.shareDialog = false;\n      } catch (err) {\n        console.error('Failed to copy:', err);\n      }\n    },\n    shareByEmail() {\n      const subject = `Contact Card - ${this.agent.name}`;\n      const body = `Here's my contact information:\\n\\n${window.location.href}`;\n      window.location.href = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;\n      this.shareDialog = false;\n    },\n    // async generateQRCode() {\n    //   this.shareDialog = false\n    //   this.qrDialog = true\n    //   await this.$nextTick()\n    //   const canvas = this.$refs.qrCanvas\n    //   await QRCode.toCanvas(canvas, window.location.href, {\n    //     width: 300,\n    //     margin: 2,\n    //     color: {\n    //       dark: '#000000',\n    //       light: '#ffffff'\n    //     }\n    //   })\n    // },\n\n    downloadQR() {\n      const canvas = this.$refs.qrCanvas;\n      const link = document.createElement('a');\n      link.download = `${this.agent.name}-QR.png`;\n      link.href = canvas.toDataURL('image/png');\n      link.click();\n    }\n  }\n};","map":{"version":3,"names":["name","data","shareDialog","qrDialog","agent","title","contacts","icon","value","label","color","socialLinks","link","methods","generateVCard","phone","whatsapp","email","address","window","location","origin","downloadVCard","vcard","blob","Blob","type","url","URL","createObjectURL","document","createElement","href","setAttribute","body","appendChild","click","removeChild","shareOnWhatsApp","text","open","encodeURIComponent","shareCard","copyLink","navigator","clipboard","writeText","$emit","err","console","error","shareByEmail","subject","downloadQR","canvas","$refs","qrCanvas","download","toDataURL"],"sources":["src/views/Agent.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 名片页面标题区 -->\n    <v-parallax\n      :src=\"require('@/assets/background.jpg')\"\n      height=\"300\"\n      class=\"page-header\"\n    >\n      <div class=\"overlay\"></div>\n      <v-container class=\"fill-height\">\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" md=\"8\" class=\"text-center\">\n            <h1 class=\"text-h2 font-weight-bold white--text mb-4\">E-Namecard</h1>\n            <p class=\"text-h6 white--text\">Professional Funeral Services Director</p>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-parallax>\n\n    <v-container class=\"namecard-container mt-n10\">\n      <v-row justify=\"center\">\n        <v-col cols=\"12\" sm=\"10\" md=\"8\" lg=\"6\">\n          <v-card class=\"namecard-wrapper\" elevation=\"10\">\n            <!-- 个人信息区域 -->\n            <div class=\"profile-header pa-8 text-center\">\n              <v-avatar size=\"150\" class=\"mb-4 profile-avatar elevation-6\">\n                <v-icon size=\"100\" color=\"white\">mdi-account-circle</v-icon>\n              </v-avatar>\n              <h2 class=\"text-h3 font-weight-bold gold-text mb-2\">{{ agent.name }}</h2>\n              <p class=\"text-h5 grey--text mb-6\">{{ agent.title }}</p>\n              <v-divider class=\"mx-auto mb-6\" width=\"100\"></v-divider>\n            </div>\n\n            <!-- 联系信息区域 -->\n            <div class=\"contact-section pa-8\">\n              <v-row>\n                <v-col cols=\"12\" sm=\"6\" v-for=\"(contact, index) in agent.contacts\" :key=\"index\">\n                  <v-card class=\"contact-card pa-4\" outlined>\n                    <div class=\"d-flex align-center\">\n                      <v-avatar size=\"40\" :color=\"contact.color\" class=\"mr-4\">\n                        <v-icon dark>{{ contact.icon }}</v-icon>\n                      </v-avatar>\n                      <div>\n                        <div class=\"subtitle-2 grey--text\">{{ contact.label }}</div>\n                        <div class=\"body-1 font-weight-medium\">{{ contact.value }}</div>\n                      </div>\n                    </div>\n                  </v-card>\n                </v-col>\n              </v-row>\n            </div>\n\n            <!-- 分享按钮组 -->\n            <v-card-actions class=\"share-actions pa-6\">\n              <v-btn\n                color=\"primary\"\n                class=\"share-btn flex-grow-1\"\n                @click=\"downloadVCard\"\n                elevation=\"2\"\n              >\n                <v-icon left>mdi-card-account-details</v-icon>\n                Save Contact\n              </v-btn>\n              <v-btn\n                color=\"success\"\n                class=\"share-btn flex-grow-1 mx-4\"\n                @click=\"shareOnWhatsApp\"\n                elevation=\"2\"\n              >\n                <v-icon left>mdi-whatsapp</v-icon>\n                WhatsApp\n              </v-btn>\n              <v-btn\n                color=\"accent\"\n                class=\"share-btn flex-grow-1\"\n                @click=\"shareCard\"\n                elevation=\"2\"\n              >\n                <v-icon left>mdi-share-variant</v-icon>\n                Share\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n\n      <!-- 社交媒体链接 -->\n      <v-row justify=\"center\" class=\"mt-8\">\n        <v-col cols=\"12\" sm=\"10\" md=\"8\" lg=\"6\">\n          <div class=\"text-center\">\n            <v-btn\n              v-for=\"(social, i) in socialLinks\"\n              :key=\"i\"\n              :href=\"social.link\"\n              target=\"_blank\"\n              fab\n              large\n              :color=\"social.color\"\n              class=\"mx-2 social-btn\"\n              elevation=\"2\"\n            >\n              <v-icon>{{ social.icon }}</v-icon>\n            </v-btn>\n          </div>\n        </v-col>\n      </v-row>\n\n      <!-- 分享对话框 -->\n      <v-dialog v-model=\"shareDialog\" max-width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline\">Share Contact Card</v-card-title>\n          <v-card-text>\n            <v-list>\n              <v-list-item @click=\"copyLink\">\n                <v-list-item-icon>\n                  <v-icon>mdi-content-copy</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>Copy Direct Link</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n              <v-list-item @click=\"shareByEmail\">\n                <v-list-item-icon>\n                  <v-icon>mdi-email</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>Share via Email</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n              <v-list-item @click=\"generateQRCode\">\n                <v-list-item-icon>\n                  <v-icon>mdi-qrcode</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>Show QR Code</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n            </v-list>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n\n      <!-- QR码对话框 -->\n      <v-dialog v-model=\"qrDialog\" max-width=\"400\">\n        <v-card class=\"text-center pa-6\">\n          <v-card-title class=\"justify-center\">Scan QR Code</v-card-title>\n          <div class=\"qr-container my-4\">\n            <canvas ref=\"qrCanvas\"></canvas>\n          </div>\n          <v-btn\n            color=\"primary\"\n            @click=\"downloadQR\"\n            class=\"mt-4\"\n          >\n            <v-icon left>mdi-download</v-icon>\n            Save QR Code\n          </v-btn>\n        </v-card>\n      </v-dialog>\n    </v-container>\n  </div>\n</template>\n\n<script>\n// import QRCode from 'qrcode'\n\nexport default {\n  name: 'Agent',\n  data: () => ({\n    shareDialog: false,\n    qrDialog: false,\n    agent: {\n      name: 'Adrian Tan',\n      title: 'Executive Director',\n      contacts: [\n        { \n          icon: 'mdi-phone', \n          value: '+65 1234 5678',\n          label: 'Phone',\n          color: 'primary'\n        },\n        { \n          icon: 'mdi-whatsapp', \n          value: '+65 8765 4321',\n          label: 'WhatsApp',\n          color: '#25D366'\n        },\n        { \n          icon: 'mdi-email', \n          value: 'adrian@andycasket.com',\n          label: 'Email',\n          color: 'error'\n        },\n        { \n          icon: 'mdi-map-marker', \n          value: 'Singapore',\n          label: 'Location',\n          color: 'accent'\n        }\n      ]\n    },\n    socialLinks: [\n      { icon: 'mdi-facebook', color: '#1877F2', link: 'https://facebook.com' },\n      { icon: 'mdi-instagram', color: '#E4405F', link: 'https://instagram.com' },\n      { icon: 'mdi-whatsapp', color: '#25D366', link: 'https://whatsapp.com' },\n      { icon: 'mdi-telegram', color: '#0088cc', link: 'https://telegram.org' }\n    ]\n  }),\n  methods: {\n    generateVCard() {\n      return `BEGIN:VCARD\nVERSION:3.0\nFN:${this.agent.name}\nTITLE:${this.agent.title}\nTEL;TYPE=WORK,VOICE:${this.agent.phone}\nTEL;TYPE=WORK,WHATSAPP:${this.agent.whatsapp}\nEMAIL;TYPE=WORK:${this.agent.email}\nADR;TYPE=WORK:;;${this.agent.address}\nORG:Andy Casket Service\nURL:${window.location.origin}/agent\nEND:VCARD`\n    },\n    \n    async downloadVCard() {\n      const vcard = this.generateVCard()\n      const blob = new Blob([vcard], { type: 'text/vcard' })\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.setAttribute('download', `${this.agent.name}.vcf`)\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    },\n\n    shareOnWhatsApp() {\n      const text = `Contact Card - ${this.agent.name}\\n${window.location.href}`\n      window.open(`https://wa.me/?text=${encodeURIComponent(text)}`)\n    },\n\n    shareCard() {\n      this.shareDialog = true\n    },\n\n    async copyLink() {\n      try {\n        await navigator.clipboard.writeText(window.location.href)\n        this.$emit('show-message', 'Link copied to clipboard!')\n        this.shareDialog = false\n      } catch (err) {\n        console.error('Failed to copy:', err)\n      }\n    },\n\n    shareByEmail() {\n      const subject = `Contact Card - ${this.agent.name}`\n      const body = `Here's my contact information:\\n\\n${window.location.href}`\n      window.location.href = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`\n      this.shareDialog = false\n    },\n\n    // async generateQRCode() {\n    //   this.shareDialog = false\n    //   this.qrDialog = true\n    //   await this.$nextTick()\n    //   const canvas = this.$refs.qrCanvas\n    //   await QRCode.toCanvas(canvas, window.location.href, {\n    //     width: 300,\n    //     margin: 2,\n    //     color: {\n    //       dark: '#000000',\n    //       light: '#ffffff'\n    //     }\n    //   })\n    // },\n\n    downloadQR() {\n      const canvas = this.$refs.qrCanvas\n      const link = document.createElement('a')\n      link.download = `${this.agent.name}-QR.png`\n      link.href = canvas.toDataURL('image/png')\n      link.click()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.page-header {\n  position: relative;\n}\n\n.overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.7));\n}\n\n.namecard-container {\n  position: relative;\n}\n\n.namecard-wrapper {\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 15px 30px rgba(0,0,0,0.1);\n}\n\n.profile-header {\n  background: linear-gradient(135deg, var(--v-primary-base), var(--v-secondary-base));\n  color: white;\n  position: relative;\n  overflow: hidden;\n}\n\n.gold-text {\n  color: #D4AF37 !important;\n  text-shadow: 2px 2px 4px rgba(0,0,0,0.2);\n}\n\n.profile-avatar {\n  border: 4px solid rgba(255,255,255,0.2);\n  background: rgba(255,255,255,0.1);\n  transition: all 0.3s ease;\n}\n\n.profile-avatar:hover {\n  transform: scale(1.05);\n  border-color: rgba(255,255,255,0.4);\n}\n\n.contact-card {\n  transition: all 0.3s ease;\n  border: 1px solid rgba(0,0,0,0.1);\n}\n\n.contact-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important;\n  border-color: var(--v-primary-base);\n}\n\n.share-actions {\n  background: linear-gradient(to right, rgba(0,0,0,0.02), transparent);\n  border-top: 1px solid rgba(0,0,0,0.05);\n  display: flex;\n  justify-content: space-between;\n}\n\n.share-btn {\n  letter-spacing: 1px;\n  height: 48px;\n}\n\n.social-btn {\n  transition: all 0.3s ease;\n}\n\n.social-btn:hover {\n  transform: translateY(-4px);\n}\n\n@media (max-width: 600px) {\n  .share-actions {\n    flex-direction: column;\n    padding: 16px !important;\n  }\n  \n  .share-btn {\n    margin: 4px 0 !important;\n  }\n  \n  .profile-header {\n    padding: 40px 20px !important;\n  }\n  \n  .gold-text {\n    font-size: 2rem !important;\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}