{"ast":null,"code":"import api from '@/services/api';\nexport default {\n  name: 'Gallery',\n  data: () => ({\n    search: '',\n    category: 'All',\n    categories: ['All', 'Caskets', 'Urns', 'Services', 'Facilities'],\n    loading: false,\n    dialog: false,\n    selectedImage: null,\n    page: 1,\n    hasMore: true,\n    images: [{\n      thumbnail: require('@/assets/funer1.jpg'),\n      full: require('@/assets/funer1.jpg'),\n      description: 'Premium Casket Display',\n      category: 'Caskets'\n    }, {\n      thumbnail: require('@/assets/funer2.jpg'),\n      full: require('@/assets/funer2.jpg'),\n      description: 'Memorial Service Setup',\n      category: 'Services'\n    }\n    // ... 添加更多图片\n    ]\n  }),\n  computed: {\n    filteredImages() {\n      return this.images.filter(image => {\n        const matchesSearch = image.description.toLowerCase().includes(this.search.toLowerCase());\n        const matchesCategory = this.category === 'All' || image.category === this.category;\n        return matchesSearch && matchesCategory;\n      });\n    }\n  },\n  methods: {\n    showImage(image) {\n      this.selectedImage = image;\n      this.dialog = true;\n    },\n    async loadMore() {\n      this.loading = true;\n      try {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        // 这里添加加载更多图片的逻辑\n        this.hasMore = false;\n      } catch (error) {\n        console.error('Error loading more images:', error);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async fetchImages() {\n      try {\n        const response = await api.getGallery();\n        if (response.data) {\n          this.images = response.data;\n        }\n      } catch (error) {\n        console.error('获取图片失败:', error);\n      }\n    }\n  },\n  created() {\n    // 暂时注释掉API调用，等后端准备好再启用\n    // this.fetchImages();\n  }\n};","map":{"version":3,"names":["api","name","data","search","category","categories","loading","dialog","selectedImage","page","hasMore","images","thumbnail","require","full","description","computed","filteredImages","filter","image","matchesSearch","toLowerCase","includes","matchesCategory","methods","showImage","loadMore","Promise","resolve","setTimeout","error","console","fetchImages","response","getGallery","created"],"sources":["src/views/Gallery.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 页面标题区 -->\n    <v-parallax\n      :src=\"require('@/assets/background.jpg')\"\n      height=\"300\"\n      class=\"hero-section\"\n    >\n      <div class=\"hero-overlay\"></div>\n      <v-container class=\"hero-content\">\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" md=\"8\" class=\"text-center\">\n            <h1 class=\"text-h2 font-weight-bold white--text mb-4\">Sample Display</h1>\n            <p class=\"text-h6 white--text\">Browse our collection of caskets and services</p>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-parallax>\n\n    <v-container class=\"gallery-container mt-n10\">\n      <!-- 筛选器 -->\n      <v-row justify=\"center\">\n        <v-col cols=\"12\" md=\"10\">\n          <v-card class=\"filter-card mb-8\" elevation=\"4\">\n            <v-card-text class=\"py-4\">\n              <v-row align=\"center\" justify=\"space-between\">\n                <v-col cols=\"12\" sm=\"8\" md=\"6\">\n                  <v-text-field\n                    v-model=\"search\"\n                    prepend-inner-icon=\"mdi-magnify\"\n                    label=\"Search gallery\"\n                    outlined\n                    dense\n                    hide-details\n                    clearable\n                  ></v-text-field>\n                </v-col>\n                <v-col cols=\"12\" sm=\"4\" md=\"3\">\n                  <v-select\n                    v-model=\"category\"\n                    :items=\"categories\"\n                    label=\"Category\"\n                    outlined\n                    dense\n                    hide-details\n                  ></v-select>\n                </v-col>\n              </v-row>\n            </v-card-text>\n          </v-card>\n        </v-col>\n      </v-row>\n\n      <!-- 图片网格 -->\n      <v-row>\n        <v-col v-for=\"(image, index) in filteredImages\" \n               :key=\"index\" \n               cols=\"12\" sm=\"6\" md=\"4\" lg=\"3\"\n        >\n          <v-hover v-slot=\"{ hover }\">\n            <v-card\n              class=\"gallery-card mx-auto\"\n              :elevation=\"hover ? 12 : 2\"\n              @click=\"showImage(image)\"\n            >\n              <v-img\n                :src=\"image.thumbnail\"\n                :aspect-ratio=\"4/3\"\n                class=\"white--text align-end\"\n                gradient=\"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)\"\n              >\n                <v-card-title class=\"text-subtitle-1\">{{ image.description }}</v-card-title>\n              </v-img>\n              <v-fade-transition>\n                <v-overlay\n                  v-if=\"hover\"\n                  absolute\n                  color=\"primary\"\n                >\n                  <v-btn\n                    icon\n                    large\n                    color=\"white\"\n                  >\n                    <v-icon large>mdi-magnify-plus</v-icon>\n                  </v-btn>\n                </v-overlay>\n              </v-fade-transition>\n            </v-card>\n          </v-hover>\n        </v-col>\n      </v-row>\n\n      <!-- 加载更多按钮 -->\n      <v-row class=\"mt-6\" v-if=\"hasMore\">\n        <v-col cols=\"12\" class=\"text-center\">\n          <v-btn\n            color=\"primary\"\n            outlined\n            :loading=\"loading\"\n            @click=\"loadMore\"\n          >\n            Load More\n          </v-btn>\n        </v-col>\n      </v-row>\n    </v-container>\n\n    <!-- 图片查看器 -->\n    <v-dialog\n      v-model=\"dialog\"\n      max-width=\"900\"\n    >\n      <v-card class=\"image-viewer\">\n        <v-img\n          v-if=\"selectedImage\"\n          :src=\"selectedImage.full\"\n          max-height=\"80vh\"\n          contain\n        ></v-img>\n        <v-card-actions class=\"justify-end\">\n          <v-btn\n            icon\n            @click=\"dialog = false\"\n          >\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport api from '@/services/api'\n\nexport default {\n  name: 'Gallery',\n  data: () => ({\n    search: '',\n    category: 'All',\n    categories: ['All', 'Caskets', 'Urns', 'Services', 'Facilities'],\n    loading: false,\n    dialog: false,\n    selectedImage: null,\n    page: 1,\n    hasMore: true,\n    images: [\n      {\n        thumbnail: require('@/assets/funer1.jpg'),\n        full: require('@/assets/funer1.jpg'),\n        description: 'Premium Casket Display',\n        category: 'Caskets'\n      },\n      {\n        thumbnail: require('@/assets/funer2.jpg'),\n        full: require('@/assets/funer2.jpg'),\n        description: 'Memorial Service Setup',\n        category: 'Services'\n      },\n      // ... 添加更多图片\n    ]\n  }),\n  computed: {\n    filteredImages() {\n      return this.images.filter(image => {\n        const matchesSearch = image.description.toLowerCase().includes(this.search.toLowerCase());\n        const matchesCategory = this.category === 'All' || image.category === this.category;\n        return matchesSearch && matchesCategory;\n      });\n    }\n  },\n  methods: {\n    showImage(image) {\n      this.selectedImage = image;\n      this.dialog = true;\n    },\n    async loadMore() {\n      this.loading = true;\n      try {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        // 这里添加加载更多图片的逻辑\n        this.hasMore = false;\n      } catch (error) {\n        console.error('Error loading more images:', error);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async fetchImages() {\n      try {\n        const response = await api.getGallery();\n        if (response.data) {\n          this.images = response.data;\n        }\n      } catch (error) {\n        console.error('获取图片失败:', error);\n      }\n    }\n  },\n  created() {\n    // 暂时注释掉API调用，等后端准备好再启用\n    // this.fetchImages();\n  }\n}\n</script>\n\n<style scoped>\n.page-header {\n  position: relative;\n}\n\n.overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.7));\n}\n\n.gallery-container {\n  position: relative;\n}\n\n.filter-card {\n  border-radius: 12px;\n  background: rgba(255, 255, 255, 0.98);\n}\n\n.gallery-card {\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.gallery-card:hover {\n  transform: translateY(-4px);\n}\n\n.image-viewer {\n  background: transparent;\n  overflow: hidden;\n}\n\n.v-card__actions {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  z-index: 1;\n}\n\n@media (max-width: 960px) {\n  .gallery-container {\n    margin-top: -60px;\n  }\n}\n</style> "],"mappings":"AAsIA,OAAAA,GAAA;AAEA;EACAC,IAAA;EACAC,IAAA,EAAAA,CAAA;IACAC,MAAA;IACAC,QAAA;IACAC,UAAA;IACAC,OAAA;IACAC,MAAA;IACAC,aAAA;IACAC,IAAA;IACAC,OAAA;IACAC,MAAA,GACA;MACAC,SAAA,EAAAC,OAAA;MACAC,IAAA,EAAAD,OAAA;MACAE,WAAA;MACAX,QAAA;IACA,GACA;MACAQ,SAAA,EAAAC,OAAA;MACAC,IAAA,EAAAD,OAAA;MACAE,WAAA;MACAX,QAAA;IACA;IACA;IAAA;EAEA;EACAY,QAAA;IACAC,eAAA;MACA,YAAAN,MAAA,CAAAO,MAAA,CAAAC,KAAA;QACA,MAAAC,aAAA,GAAAD,KAAA,CAAAJ,WAAA,CAAAM,WAAA,GAAAC,QAAA,MAAAnB,MAAA,CAAAkB,WAAA;QACA,MAAAE,eAAA,QAAAnB,QAAA,cAAAe,KAAA,CAAAf,QAAA,UAAAA,QAAA;QACA,OAAAgB,aAAA,IAAAG,eAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,UAAAN,KAAA;MACA,KAAAX,aAAA,GAAAW,KAAA;MACA,KAAAZ,MAAA;IACA;IACA,MAAAmB,SAAA;MACA,KAAApB,OAAA;MACA;QACA,UAAAqB,OAAA,CAAAC,OAAA,IAAAC,UAAA,CAAAD,OAAA;QACA;QACA,KAAAlB,OAAA;MACA,SAAAoB,KAAA;QACAC,OAAA,CAAAD,KAAA,+BAAAA,KAAA;MACA;QACA,KAAAxB,OAAA;MACA;IACA;IACA,MAAA0B,YAAA;MACA;QACA,MAAAC,QAAA,SAAAjC,GAAA,CAAAkC,UAAA;QACA,IAAAD,QAAA,CAAA/B,IAAA;UACA,KAAAS,MAAA,GAAAsB,QAAA,CAAA/B,IAAA;QACA;MACA,SAAA4B,KAAA;QACAC,OAAA,CAAAD,KAAA,YAAAA,KAAA;MACA;IACA;EACA;EACAK,QAAA;IACA;IACA;EAAA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}